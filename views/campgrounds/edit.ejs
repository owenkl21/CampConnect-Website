<% layout('layouts/boilerplate')%>

<div class="row">
    <div class="col-6 offset-3">
        <div class="card mb-5 pl-5 pr-5" id="editCard">
            <div class="card  mt-1 mb-5 pt-2text-center" id="reviewsBox">
                <h1 class="text-center mt-2 mb-3">Edit Campground</h1>
            </div>
            <form action="/campgrounds/<%=campground._id%>?_method=PUT" method="POST" novalidate class="validated-form"
                enctype="multipart/form-data">
                <div class="mb-3">
                    <label class="form-label" for="title">Title</label>
                    <input class="form-control" type="text" id="title" name="campground[title]"
                        value="<%=campground.title %>" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="location">Location</label>
                    <input class="form-control" type="text" id="location" name="campground[location]"
                        value="<%=campground.location %>" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="image">Add Images</label>
                    <input class="form-control" type="file" id="image" name="image" value="<%=campground.image %> "
                        multiple>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="price">Campground Price</label>
                    <div class="input-group">
                        <span class="input-group-text" id="price-label">$</span>
                        <input type="text" class="form-control" id="price" placeholder="0.00" aria-label="price"
                            aria-describedby="price-label" name="campground[price]" value="<%=campground.price %>"
                            required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="description">Description</label>
                    <textarea class="form-control" type="text" id="description" name="campground[description]"
                        required><%= campground.description%></textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="container mb-3 text-center">
                    <h3>Delete Images</h3>
                    <hr>
                </div>
                <div class="card-group mb-4">
                    <%  campground.images.forEach((img, i) => { %>
                    <div class="row col-md-4 mr-2 mx-auto">
                        <div class="col ">
                            <div class="checkbox-wrapper-62">
                                <input type="checkbox" class="check" id="image-<%= i %>" id="check1-62"
                                    value="<%= img.filename%>" name="deleteImages[]" />
                                <label for="image-<%= i %>" class="label">
                                    <svg width="43" height="43" viewbox="0 0 90 90">
                                        <rect x="30" y="20" width="50" height="50" stroke="black" fill="none" />
                                        <g transform="translate(0,-952.36218)">
                                            <path d="m 13,983 c 33,6 40,26 55,48 " stroke="black" stroke-width="3"
                                                class="path1" fill="none" />
                                            <path d="M 75,970 C 51,981 34,1014 25,1031 " stroke="black" stroke-width="3"
                                                class="path1" fill="none" />
                                        </g>
                                    </svg>
                                </label>
                            </div>
                            <!-- <input class=" form-check-input" type="checkbox" id="form-check-input"
                                    id="image-<%= i %>" value="<%= img.filename%>" name="deleteImages[]"> -->
                            <img src="<%= img.url%>" class="img-thumbnail rounded  d-block "
                                style="height: 8rem; width: 9rem; object-fit: cover;" alt="">
                        </div>
                    </div>
                    <% }) %>
                </div>
                <hr>
                <div class=" mt-4 mb-3  text-center">
                    <button class="btn btn-info mr-2" id="button50">Update Campground</button>
                    <a class="btn btn-danger" id="button50" href="/campgrounds/<%= campground._id%>">Back To
                        Campground</a>
                </div>
            </form>
        </div>
    </div>
</div>